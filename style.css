/* ===============================
   Theme & Base
=============================== */
:root {
  --bg: #faf7ff;
  --text: #1a1224;
  --muted: #5a5569;
  --border: #e3d7fa;
  --card-bg: #ffffff;
  --accent: #b49fdd;
}
[data-theme="dark"] {
  --bg: #0f0f10;
  --text: #f4edff;
  --muted: #aaa4bd;
  --border: #2a223d;
  --card-bg: #18161d;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body { background: var(--bg); color: var(--text); font-family: system-ui, sans-serif; transition: all 0.3s ease; }
a { color: var(--accent); text-decoration: none; }

/* Docs Layout */
.docs-layout { display: flex; gap: 2rem; padding: 2rem; min-height: calc(100vh - 120px); }
.docs-sidebar { flex: 0 0 220px; background: var(--card-bg); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; position: sticky; top: 2rem; }
.docs-sidebar a { color: var(--text); display: block; padding: 0.5rem 0; }
.docs-sidebar a:hover, .docs-sidebar a.active { color: var(--accent); }
.docs-content { flex: 1; background: var(--card-bg); border: 1px solid var(--border); border-radius: 12px; padding: 2rem; }
footer { text-align: center; padding: 2rem; color: var(--muted); font-size: 0.9rem; }

/* ===============================
   MAIN NAV â€” FIXED & PERFECT
=============================== */
.main-nav { position: fixed; top: 20px; right: 20px; z-index: 1000; }

#main-burger {
  width: 56px; height: 56px;
  background: rgba(255,255,255,0.92);
  backdrop-filter: blur(14px);
  border: 1px solid var(--border);
  border-radius: 50%;
  display: grid; place-items: center;
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(0,0,0,0.12);
  transition: all 0.35s ease;
}
[data-theme="dark"] #main-burger { background: rgba(20,20,25,0.96); box-shadow: 0 6px 20px rgba(0,0,0,0.5); }
#main-burger:hover { transform: scale(1.08); box-shadow: 0 12px 30px rgba(0,0,0,0.25); }
#main-burger svg { width: 28px; height: 28px; stroke: var(--text); stroke-width: 2.5; }

.nav-items {
  position: absolute;
  top: 0; right: 56px;
  height: 60px;
  background: rgba(255,255,255,0.95);
  backdrop-filter: blur(14px);
  border: 1px solid var(--border);
  border-radius: 34px;
  padding: 0 1.4rem;
  display: flex; align-items: center; gap: 1.8rem;
  box-shadow: 0 12px 40px rgba(0,0,0,0.2);
  opacity: 0; visibility: hidden; transform: scale(0.92);
  transition: opacity 0.35s ease, visibility 0.35s, transform 0.35s ease;
}
[data-theme="dark"] .nav-items { background: rgba(20,20,25,0.96); }
.nav-items.open { opacity: 1; visibility: visible; transform: scale(1); }

/* ICONS + PERFECT CIRCULAR HOVER + TOOLTIP BELOW */
.nav-items a,
.nav-items button {
  position: relative;
  width: 50px; height: 50px;
  display: grid; place-items: center;
  background: none; border: none;
  color: var(--text); opacity: 0.7;
  cursor: pointer;
  border-radius: 50%;
  transition: opacity 0.3s ease;
}

/* Circular hover background */
.nav-items a::before,
.nav-items button::before {
  content: "";
  position: absolute;
  inset: 4px;
  background: rgba(180, 159, 221, 0.28);
  border-radius: 50%;
  transform: scale(0);
  transition: transform 0.42s cubic-bezier(0.32, 0, 0.07, 1);
  z-index: -1;
}
.nav-items a:hover::before,
.nav-items button:hover::before {
  transform: scale(1);
}
.nav-items a:hover,
.nav-items button:hover { opacity: 1; }

.nav-items svg { width: 26px; height: 26px; stroke: currentColor; stroke-width: 2.1; }

/* TOOLTIP BOX BELOW */
.nav-items a::after,
#main-theme-toggle::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: -42px; left: 50%;
  transform: translateX(-50%) translateY(8px);
  background: var(--text);
  color: var(--bg);
  padding: 8px 14px;
  border-radius: 10px;
  font-size: 0.82rem;
  font-weight: 500;
  white-space: nowrap;
  opacity: 0; visibility: hidden;
  transition: all 0.35s ease;
  box-shadow: 0 6px 16px rgba(0,0,0,0.3);
  z-index: 10;
}
.nav-items a:hover::after,
#main-theme-toggle:hover::after {
  opacity: 1; visibility: visible;
  transform: translateX(-50%) translateY(0);
}

/* Little arrow on tooltip */
.nav-items a > .tooltip-arrow,
#main-theme-toggle > .tooltip-arrow {
  content: "";
  position: absolute;
  bottom: -6px; left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: var(--text);
  opacity: 0;
  transition: opacity 0.35s ease;
}
.nav-items a:hover > .tooltip-arrow,
#main-theme-toggle:hover > .tooltip-arrow { opacity: 1; }

/* Add arrow via pseudo-element properly */
.nav-items a::before { z-index: -1; } /* background circle */
.nav-items a::after { content: attr(data-tooltip); } /* text */
.nav-items a > .tooltip-arrow::before {
  content: "";
  position: absolute;
  bottom: -6px; left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: var(--text);
}
.nav-items a:hover > .tooltip-arrow::before { opacity: 1; }

/* Simpler & working arrow */
.nav-items a::before { z-index: -1; } /* circle only */
.nav-items a::after { /* tooltip text */ }
.nav-items a:hover::before { transform: scale(1); } /* circle */
.nav-items a:hover::after { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }

/* Arrow fixed */
.nav-items a > .arrow,
#main-theme-toggle > .arrow {
  position: absolute;
  bottom: -6px; left: 50%;
  width: 0; height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid var(--text);
  opacity: 0;
  transition: opacity 0.35s ease;
  transform: translateX(-50%);
}
.nav-items a:hover > .arrow,
#main-theme-toggle:hover > .arrow { opacity: 1; }

/* Theme icons */
#main-theme-toggle .icon-moon { display: none; }
[data-theme="dark"] #main-theme-toggle .icon-sun { display: none; }
[data-theme="dark"] #main-theme-toggle .icon-moon { display: block; }

@media (max-width: 768px) {
  .docs-layout { flex-direction: column; padding: 1rem; }
  .docs-sidebar { position: static; width: 100%; }
}